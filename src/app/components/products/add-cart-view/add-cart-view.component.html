<mat-icon color="primary" mat-icon-dialog-close (click)="dialogRef.close()">close</mat-icon>
<div class="row p-2 m-2 add-to-cart">
    <div class="col text-center">
        <h3 color="primary">Agregar producto</h3>
        <p class="text-left mb-1">Recuerda que únicamente podrás entregar medicamentos que se encuentren con al menos 2</p>
        <p class="text-left mb-1">meses previos a caducar y el empaque deberá encontrarse en buenas condiciones, en caso</p>
        <p class="text-left mb-1">contrario marcar como <strong>negado</strong></p>
        <div class="a d-flex justify-content-center">
            <div class="counter mt-4 mb-4">
                <button 
                    mat-flat-button 
                    color="primary" 
                    [disabled]="qty == 0" 
                    (click)="qty= qty-1" 
                    class="remove-item">
                    <mat-icon>remove</mat-icon>
                </button>
                <input [ngModel]="qty" readonly />
                <button mat-flat-button color="primary" 
                    [disabled]="qty == data.stock ||
                                ( itemForWholesale + qty ) == itemWholesale || 
                                qty == itemWholesale" 
                    (click)="qty = ( qty + 1 )">
                    <mat-icon>add</mat-icon>
                </button>
            </div>
        </div>
        <div *ngIf="qty == itemWholesale || ( itemForWholesale + qty ) == itemWholesale"
            class="d-flex justify-content-center">
            <div class="p-0">
                <div class="alert alert-danger m-0 p-1 d-flex flex-row" role="alert">
                    <div class="d-flex align-items-center mr-2">
                        <mat-icon class="icon">info</mat-icon>
                    </div>
                    <div class="message d-flex align-items-center">                    
                        No puedes agregar más de 12 medicamentos del mismo UPC
                    </div>
                </div>
            </div>
        </div>
        <div *ngIf="qty == data.stock" 
            class="d-flex justify-content-center">
            <div class="p-0">
                <div class="alert alert-danger m-0 p-1 d-flex flex-row" role="alert">
                    <div class="d-flex align-items-center mr-2">
                        <mat-icon class="icon">info</mat-icon>
                    </div>
                    <div class="message d-flex align-items-center">                    
                        Has alcanzado el número máximo de productos disponibles
                    </div>
                </div>
            </div>
        </div>
        <div class="a d-flex justify-content-center">
                <button class="m-3" mat-stroked-button color="primary" 
                    (click)="dialogRef.close()">
                    Cancelar
                </button>
                <button class="m-3" mat-flat-button color="primary" 
                    [disabled]="qty == 0" 
                    (click)="addToShoppingCart()">
                    Aceptar
                </button>
        </div>
    </div>
</div>